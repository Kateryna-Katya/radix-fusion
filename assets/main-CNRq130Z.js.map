{"version":3,"file":"main-CNRq130Z.js","sources":["../../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // ==========================================\n  // 1. ГЛОБАЛЬНАЯ ЛОГИКА (UI, Меню, Иконки)\n  // ==========================================\n\n  // --- Инициализация иконок Lucide ---\n  // Проверяем, подключена ли библиотека\n  if (typeof lucide !== 'undefined') {\n      lucide.createIcons();\n  }\n\n  // --- Мобильное меню (Бургер) ---\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const headerLinks = document.querySelectorAll('.header__link');\n\n  if (burger && nav) {\n      burger.addEventListener('click', () => {\n          // Переключаем класс активности\n          nav.classList.toggle('is-active');\n\n          // Атрибуты доступности (ARIA)\n          const isExpanded = nav.classList.contains('is-active');\n          burger.setAttribute('aria-expanded', isExpanded);\n      });\n\n      // Закрываем меню при клике на любую ссылку внутри\n      headerLinks.forEach(link => {\n          link.addEventListener('click', () => {\n              nav.classList.remove('is-active');\n              burger.setAttribute('aria-expanded', 'false');\n          });\n      });\n  }\n\n  // --- Динамический год в футере ---\n  const yearElement = document.getElementById('year');\n  if (yearElement) {\n      yearElement.textContent = new Date().getFullYear();\n  }\n\n  // --- Эффект хедера при скролле ---\n  const header = document.querySelector('.header');\n  window.addEventListener('scroll', () => {\n      if (window.scrollY > 50) {\n          header.style.boxShadow = \"0 4px 20px rgba(0,0,0,0.05)\";\n          // Делаем фон чуть более непрозрачным при скролле\n          header.style.background = \"rgba(245, 245, 247, 0.95)\";\n      } else {\n          header.style.boxShadow = \"none\";\n          header.style.background = \"rgba(245, 245, 247, 0.8)\";\n      }\n  });\n\n  // ==========================================\n  // 2. АНИМАЦИЯ HERO (SVG Liquid Effect)\n  // ==========================================\n\n  initSvgLiquid();\n});\n\n/**\n* Функция для анимации SVG фильтра (эффект жидкости)\n* Работает без внешних библиотек\n*/\nfunction initSvgLiquid() {\n  // Ищем элементы фильтра в HTML\n  const turbulence = document.querySelector('#liquidFilter feTurbulence');\n  // const displacement = document.querySelector('#liquidFilter feDisplacementMap'); // Можно раскомментировать для доп. эффектов\n\n  // Если фильтра нет в HTML, выходим, чтобы не было ошибок\n  if (!turbulence) return;\n\n  let frames = 0;\n\n  // Функция анимации (цикл)\n  function animate() {\n      frames++;\n\n      // Математика волн:\n      // baseFrequency=\"x y\" - частота шума по X и Y\n      // Мы плавно меняем эти значения, используя sin/cos от времени (frames)\n\n      const freqX = 0.01 + Math.sin(frames * 0.002) * 0.001;\n      const freqY = 0.005 + Math.cos(frames * 0.005) * 0.001;\n\n      // Применяем новые значения к SVG фильтру\n      turbulence.setAttribute('baseFrequency', `${freqX} ${freqY}`);\n\n      // Запрашиваем следующий кадр анимации\n      requestAnimationFrame(animate);\n  }\n\n  // Запускаем цикл\n  animate();\n}\n// ==========================================\n    // 3. CONTACT FORM LOGIC (Validation & Captcha)\n    // ==========================================\n\n    const contactForm = document.getElementById('contact-form');\n    const captchaQuestion = document.getElementById('captcha-question');\n    const captchaInput = document.getElementById('captcha-input');\n    const phoneInput = document.getElementById('phone');\n    const formSuccess = document.getElementById('form-success');\n    const formBtn = document.querySelector('.form__btn');\n\n    if (contactForm) {\n        // 1. Генерация простой мат. капчи\n        const num1 = Math.floor(Math.random() * 10) + 1;\n        const num2 = Math.floor(Math.random() * 10) + 1;\n        const correctAnswer = num1 + num2;\n\n        captchaQuestion.textContent = `${num1} + ${num2} = ?`;\n\n        // 2. Валидация ввода телефона (только цифры)\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^0-9+]/g, '');\n        });\n\n        // 3. Обработка отправки\n        contactForm.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== correctAnswer) {\n                alert('Неверный ответ на пример! Попробуйте еще раз.');\n                captchaInput.value = '';\n                captchaInput.focus();\n                return;\n            }\n\n            // Имитация отправки (AJAX)\n            const originalBtnText = formBtn.textContent;\n            formBtn.textContent = 'Отправка...';\n            formBtn.disabled = true;\n\n            setTimeout(() => {\n                // Скрываем поля, показываем успех\n                Array.from(contactForm.children).forEach(child => {\n                    if (child.id !== 'form-success') child.style.display = 'none';\n                });\n                formSuccess.style.display = 'block';\n\n                // Очистка формы\n                contactForm.reset();\n            }, 1500);\n        });\n    }\n\n    // ==========================================\n    // 4. COOKIE POPUP\n    // ==========================================\n    const cookiePopup = document.getElementById('cookie-popup');\n    const acceptCookiesBtn = document.getElementById('accept-cookies');\n\n    // Проверяем, было ли уже согласие\n    if (!localStorage.getItem('cookiesAccepted')) {\n        // Показываем с небольшой задержкой\n        setTimeout(() => {\n            if(cookiePopup) cookiePopup.style.display = 'block';\n        }, 2000);\n    }\n\n    if (acceptCookiesBtn) {\n        acceptCookiesBtn.addEventListener('click', () => {\n            localStorage.setItem('cookiesAccepted', 'true');\n            cookiePopup.style.display = 'none';\n        });\n    }"],"names":["burger","nav","headerLinks","isExpanded","link","yearElement","header","initSvgLiquid","turbulence","frames","animate","freqX","freqY","contactForm","captchaQuestion","captchaInput","phoneInput","formSuccess","formBtn","num1","num2","correctAnswer","e","child","cookiePopup","acceptCookiesBtn"],"mappings":"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"}